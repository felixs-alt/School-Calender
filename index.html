<head>
   <link rel="stylesheet" href="index.css">
   <script>
      async function update(){
         const response = await fetch("table.json");
         const table = await response.json();
         const time = document.getElementById("time")
         const date = document.getElementById("date")
         date.innerHTML = new Date().toDateString()
         time.innerHTML = new Date().toLocaleTimeString([], {hour12:false,hour:"numeric",minute: "2-digit" })
         if (new Date().getDay() % 6 === 0){
            return
         } else {
            new Date().getDay()
         }
      }
      async function updateWeather(){
         let response = await fetch('https://api.openweathermap.org/data/2.5/weather?q=Lomma,se&appid=3ab048a5dff57c50e864e1484411f691') //you get your api key once you sign up for openweathermap.org
         weatherData = await response.json()
         const icon = document.getElementById("weather-icon")
         const temp = document.getElementById("temp")
         icon.src = "https://openweathermap.org/img/wn/"+weatherData.weather[0].icon+".png"
         temp.innerHTML=(Math.round((weatherData.main.temp - 273.15) * 100) / 100)+"C"
      }
      setInterval(updateWeather(),300000)
      window.addEventListener("load", async (event) => {
         await setInterval(update(),5000)
      });
   </script>
</head>
<body>
<div class="mobile-wrapper">

   <!--======= Header =======-->

   <header class="header">
      <div class="container">
         <h1>School Schedule</h1>
         <h2 id="time"></h2>
      </div>
   </header>
   <!--======= Today =======-->
   <section class="today-box" id="today-box">
      <span class="breadcrumb">Today</span>
      <h3 class="date-title"id="date"></h3>
      <div class="weather">
         <img id="weather-icon"></img>
         <h4 id="temp"></h4>
      </div>
   </section>

   <!--======= Upcoming Events =======-->

   <section class="upcoming-events">
      <div class="container">
         <h3>
            Lastest Events

         </h3>
         <div class="events-wrapper">
            <div class="event active">
               <h4 class="event__point"></h4>
               <span class="event__duration"></span>
               <p class="event__description">
               </p>
            </div>
            <div class="event">
               <h4 class="event__point">12:00 pm</h4>
               <span class="event__duration">in 1 hour.</span>
               <p class="event__description">
                  Lunch with Paul Mccartney @Burgers House!
               </p>
            </div>
            <div class="event">
               <h4 class="event__point">14:00 pm</h4>
               <p class="event__description">
                  Meet clients from project.
               </p>
            </div>
            <div class="event">
               <h4 class="event__point">20:45 pm</h4>
               <span class="event__duration">in 45 minutes.</span>
               <p class="event__description">
                  Watch sci-fi series.
               </p>
            </div>
            <div class="event">
               <h4 class="event__point">23:15 pm</h4>
               <span class="event__duration">in 20 minutes.</span>
               <p class="event__description">
                  Customer dialog on Skype.
               </p>
            </div>
         </div>
      </div>
   </section>
</div>
</body>
